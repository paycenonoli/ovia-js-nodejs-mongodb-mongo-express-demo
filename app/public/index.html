<!doctype html>
<html>
    <head>
        <title>User Profile</title>
    </head>
    <body>
        <h1>User Profile</h1>

        <p>Name: <span id="name"></span></p>
        <p>Email: <span id="email"></span></p>

        <button onclick="editProfile()">Edit Profile</button>

        <script>
            async function loadProfile() {
                const res = await fetch("/api/profile");
                const data = await res.json();
                document.getElementById("name").innerText = data.name;
                document.getElementById("email").innerText = data.email;
            }

            async function editProfile() {
                const name = prompt("Enter new name:");
                const email = prompt("Enter new email:");

                await fetch("/api/profile", {
                    method: "PUT",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ name, email }),
                });

                loadProfile();
            }

            loadProfile();
        </script>
    </body>
</html>
